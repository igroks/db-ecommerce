CREATE TABLE IF NOT EXISTS Product
( 
    asin TEXT PRIMARY KEY,
    title TEXT,
    product_group TEXT,
    salesrank INTEGER
);

CREATE TABLE IF NOT EXISTS Comments
(
    id SERIAL PRIMARY KEY,
    product_asin INTEGER ,
    id_client TEXT,
    date DATE,
    rating INTEGER,
    votes INTEGER,
    helpful INTEGER,
    FOREIGN KEY(product_asin)
    REFERENCES Product(asin)
);

CREATE TABLE IF NOT EXISTS Similars
(
    s_asin INTEGER,
    asin_similars INTEGER,
    PRIMARY KEY(s_asin, asin_similars),
    FOREIGN KEY(s_asin)
    REFERENCES Product(asin)
);

CREATE TABLE IF NOT EXISTS Category
(
    name TEXT,
    id INTEGER PRIMARY KEY,
    father_id INTEGER
);

CREATE TABLE IF NOT EXISTS Products_per_category
(
    ppc_asin INTEGER,
    cat_id INTEGER,
    PRIMARY KEY (ppc_asin, cat_id),
    FOREIGN KEY (ppc_asin) REFERENCES Product(asin),
    FOREIGN KEY (cat_id) REFERENCES Category(id)
);
