CREATE TABLE IF NOT EXISTS Product
( 
    asin TEXT PRIMARY KEY,
    title TEXT,
    product_group TEXT,
    salesrank INTEGER
);

CREATE TABLE IF NOT EXISTS Similars
(
    p_asin TEXT,
    s_asin TEXT,
    PRIMARY KEY(p_asin, s_asin),
    FOREIGN KEY(p_asin)
    REFERENCES Product(asin)
);

CREATE TABLE IF NOT EXISTS Comments
(
    id SERIAL PRIMARY KEY,
    product_asin TEXT,
    id_client TEXT,
    date DATE,
    rating INTEGER,
    votes INTEGER,
    helpful INTEGER,
    FOREIGN KEY(product_asin)
    REFERENCES Product(asin)
);

CREATE TABLE IF NOT EXISTS Category
(
        id INTEGER PRIMARY KEY,
        name TEXT
);

CREATE TABLE IF NOT EXISTS Products_per_category
(
    ppc_asin TEXT,
    cat_id INTEGER,
    PRIMARY KEY (ppc_asin, cat_id),
    FOREIGN KEY (ppc_asin) REFERENCES Product(asin),
    FOREIGN KEY (cat_id) REFERENCES Category(id)
);
